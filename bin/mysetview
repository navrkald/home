#!/bin/sh

#set -x

#array=(`cleartool lsview|grep $USER|sed s/.*\ $myname/$myname/|sed s/\ .*//`)
array=(`cleartool lsview|grep --color=never $USER| sed -e "s/.*\($USER.*\) .*/\1/g"`)

len=${#array[*]}
i=$len;
while [ $i -gt 0 ]; do
  let i--
  idx=$[ $len - $i ]
  echo "$idx: ${array[$i]}"
done

if [ $len -eq 1 ]; then
  number=1
else
  read -p "Which one? " number
fi

if [ $number -ge 1 ]; then
  if [ $number -le $len ]; then
    view=${array[$[ $len - $number ]]}
  fi
fi

if [ "$view" != "" ]; then
  echo Setting View to: \"$view\"
  echo Done.
  cleartool setview $view
else
  echo View not defined.
fi
